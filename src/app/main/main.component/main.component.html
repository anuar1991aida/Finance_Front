<div class=" bg-indigo">
    <p-toolbar>
        <div class="p-toolbar-group-left">
            <p-megaMenu [model]="items" styleClass="flex">
            </p-megaMenu>
        </div>

        <div class="p-toolbar-group-right">
            <div style="margin-right: 10px;">
                {{profileuser.first_name}}
            </div>
            <!-- <p-menu #menu [model]="User" [popup]="true"></p-menu> -->
            <!-- <a>
                <p-button label={{profileuser.first_name}} styleClass="p-button-link p-button-plain"
                    (click)="op.toggle($event)"></p-button>
            </a> -->
            <p-avatar class="cursor-pointer" icon="pi pi-user" (click)="op.toggle($event)" styleClass="mr-2"
                size="danger" shape="circle">
            </p-avatar>
        </div>
    </p-toolbar>
    <p-toast></p-toast>
    <mat-tab-group mat-align-tabs="start" [(selectedIndex)]="tabcount" style="z-index: 0;">
        <ng-template #templateRef let-context='context'>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span>{{context.title}}</span>
                    <!-- <i (click)="removetab()" style="margin-left: 10px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-x" viewBox="0 0 16 16">
                            <path
                                d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                        </svg>
                    </i> -->
                </ng-template>

                <app-izm-plateji-list *ngIf="context.selector=='app-izm-plateji-list'" [List]="true"
                    [tabcount]="this.tabcount"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)"
                    (closeEvent)="removetab()">
                </app-izm-plateji-list>


                <app-organization *ngIf="context.selector=='app-organization'" [list]="true" (closeEvent)="removetab()"
                    [tabcount]="this.tabcount">
                </app-organization>

                <app-category-income *ngIf="context.selector=='app-category-income'" [data]="true"
                    (closeEvent)="removetab()">
                </app-category-income>

                <app-podclass-list *ngIf="context.selector=='app-podclass-list'" (closeEvent)="removetab()">
                </app-podclass-list>

                <app-class-income-list *ngIf="context.selector=='app-class-income-list'" (closeEvent)="removetab()">
                </app-class-income-list>

                <app-specification-income-list *ngIf="context.selector=='app-specification-income-list'"
                    (closeEvent)="removetab()">
                </app-specification-income-list>

                <app-classification-income-list *ngIf="context.selector=='app-classification-income-list'" [data]="true"
                    (closeEvent)="removetab()">
                </app-classification-income-list>

                <app-utv-income-list *ngIf="context.selector=='app-utv-income-list'"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)"
                    (closeEvent)="removetab()" [tabcount]="this.tabcount">
                </app-utv-income-list>

                <app-utv-income-detail *ngIf="context.selector=='app-utv-income-detail'" [utv_inc_id]="number"
                    (closeEvent)="removetab()">
                </app-utv-income-detail>

                <app-budjet-list *ngIf="context.selector=='app-budjet-list'" (closeEvent)="removetab()">
                </app-budjet-list>

                <app-izm-inc-doc-list *ngIf="context.selector=='app-izm-inc-doc-list'"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)"
                    (closeEvent)="removetab()" [tabcount]="this.tabcount">
                </app-izm-inc-doc-list>

                <app-import420-list *ngIf="context.selector=='app-import420-list'" (closeEvent)="removetab()"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)">
                </app-import420-list>

                <app-import552-list *ngIf="context.selector=='app-import552-list'" (closeEvent)="removetab()"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)">
                </app-import552-list>

                <app-import420-detail *ngIf="context.selector=='app-import420-detail'" (closeEvent)="removetab()"
                    [imp_420_id]="number">
                </app-import420-detail>

                <app-import552-element *ngIf="context.selector=='app-import552-element'" (closeEvent)="removetab()"
                    [imp_552_id]="number">
                </app-import552-element>

                <app-import219-list *ngIf="context.selector=='app-import219-list'" (closeEvent)="removetab()"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)">
                </app-import219-list>

                <app-svod-spravok-list *ngIf="context.selector=='app-svod-spravok-list'" (closeEvent)="removetab()"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)"
                    [tabcount]="this.tabcount">
                </app-svod-spravok-list>

                <app-svod-spravok-detail *ngIf="context.selector=='app-svod-spravok-detail'" (closeEvent)="removetab()"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)"
                    [svod_exp_id]="number">
                </app-svod-spravok-detail>

                <app-import219-detail *ngIf="context.selector=='app-import219-detail'" (closeEvent)="removetab()"
                    [imp_219_id]="number">
                </app-import219-detail>

                <app-izm-inc-doc-detail #someComp *ngIf="context.selector=='app-izm-inc-doc-detail'"
                    [izm_inc_id]="number" (closeEvent)="removetab()">
                </app-izm-inc-doc-detail>

                <app-functional-group-list *ngIf="context.selector=='app-functional-group-list'" [data]="true"
                    (closeEvent)="removetab()">
                </app-functional-group-list>

                <app-functional-podgroup-list *ngIf="context.selector=='app-functional-podgroup-list'" [data]="true"
                    (closeEvent)="removetab()">
                </app-functional-podgroup-list>

                <app-abp-list *ngIf="context.selector=='app-abp-list'" [data]="true" (closeEvent)="removetab()">
                </app-abp-list>

                <app-programm-list *ngIf="context.selector=='app-programm-list'" [data]="true"
                    (closeEvent)="removetab()">
                </app-programm-list>

                <app-podprogramm-list *ngIf="context.selector=='app-podprogramm-list'" [data]="true"
                    (closeEvent)="removetab()">
                </app-podprogramm-list>

                <app-fkr-list *ngIf="context.selector=='app-fkr-list'" [data]="true" (closeEvent)="removetab()">
                </app-fkr-list>

                <app-utv-exp-doc-list *ngIf="context.selector=='app-utv-exp-doc-list'"
                    (newItemEvent)="openTab($event.params.selector, $event.params.nomer, $event.params.id)"
                    (closeEvent)="removetab()" [tabcount]="this.tabcount">
                </app-utv-exp-doc-list>

                <app-utv-exp-doc-detail *ngIf="context.selector=='app-utv-exp-doc-detail'" [utv_exp_id]="number"
                    (closeEvent)="removetab()">
                </app-utv-exp-doc-detail>

                <app-specification-exp-list *ngIf="context.selector=='app-specification-exp-list'"
                    (closeEvent)="removetab()">
                </app-specification-exp-list>

                <app-izm-plateji-detail *ngIf="context.selector=='app-izm-plateji-detail'" [izm_inc_id]="number"
                    (closeEvent)="removetab()">
                </app-izm-plateji-detail>

                <report-detail *ngIf="context.selector=='report-detail'" [type_report_input]="number"
                    (closeEvent)="removetab()">
                </report-detail>

                <app-user-list *ngIf="context.selector=='app-user-list'" [list]="true" (closeEvent)="removetab()">
                </app-user-list>

                <startpage-element *ngIf="context.selector=='startpage-element'">
                </startpage-element>

                <report_8_10 *ngIf="context.selector=='report_8_10'" (closeEvent)="removetab()">
                </report_8_10>

                <report_1_4 *ngIf="context.selector=='report_1_4'" (closeEvent)="removetab()">
                </report_1_4>

                <report_7_9 *ngIf="context.selector=='report_7_9'" (closeEvent)="removetab()">
                </report_7_9>

                <report_420 *ngIf="context.selector=='report_420'" (closeEvent)="removetab()">
                </report_420>

                <report_219 *ngIf="context.selector=='report_219'" (closeEvent)="removetab()">
                </report_219>

                <report_16_18 *ngIf="context.selector=='report_16_18'" (closeEvent)="removetab()">
                </report_16_18>

                <report_diff_pay_obl *ngIf="context.selector=='report_diff_pay_obl'" (closeEvent)="removetab()">
                </report_diff_pay_obl>

                <report_diff_god_summ *ngIf="context.selector=='report_diff_god_summ'" (closeEvent)="removetab()">
                </report_diff_god_summ>

                <report_export *ngIf="context.selector=='report_export'" (closeEvent)="removetab()"
                    [type_report]="number">
                </report_export>

                <report_552 *ngIf="context.selector=='report_552'" (closeEvent)="removetab()">
                </report_552>

                <app-pogashenie-kp-list *ngIf="context.selector=='app-pogashenie-kp-list'" (closeEvent)="removetab()">
                </app-pogashenie-kp-list>

                <app-pogashenie-fkr-list *ngIf="context.selector=='app-pogashenie-fkr-list'" (closeEvent)="removetab()">
                </app-pogashenie-fkr-list>


            </mat-tab>
        </ng-template>
    </mat-tab-group>
</div>

<p-overlayPanel #op [style]="{width: '220px'}">
    <ng-template pTemplate>
        <div class="align-items-center justify-content-left gap-2">
            <p-button label="Изменить пароль" styleClass="p-button-link" (click)="changepass()"><i
                    style="padding-right: 15px; font-size: 0.4cm;" class="pi pi-key"></i></p-button>
            <p-button label="История входа" styleClass="p-button-link" (click)="userHistory()"><i
                    style="padding-right: 15px; font-size: 0.4cm;" class="pi pi-id-card"></i></p-button>
            <p-button label="Выйти из системы" styleClass="p-button-link" (click)="logout()"><i
                    style="padding-right: 30px; font-size: 0.4cm;" class="pi pi-fw pi-power-off"></i></p-button>
        </div>
    </ng-template>
</p-overlayPanel>

<div #viewContainerRef>
</div>